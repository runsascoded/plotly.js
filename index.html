<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>plotly.js zorder Pan Bug Fix Demo</title>
  <style>
    body { font-family: -apple-system, sans-serif; max-width: 800px; margin: 40px auto; padding: 20px; }
    h1 { margin-bottom: 10px; }
    code { background: #f0f0f0; padding: 2px 6px; border-radius: 3px; }
    .links { display: flex; gap: 20px; margin: 30px 0; }
    .links a {
      flex: 1;
      padding: 20px;
      text-align: center;
      text-decoration: none;
      border-radius: 8px;
      font-weight: bold;
    }
    .links a.before { background: #fee; color: #c00; border: 2px solid #c00; }
    .links a.after { background: #efe; color: #080; border: 2px solid #080; }
    .links a:hover { opacity: 0.8; }
    .description { line-height: 1.6; }
    .pr-link { margin-top: 30px; padding: 15px; background: #f5f5f5; border-radius: 4px; }
  </style>
</head>
<body>
  <h1><code>zorder</code> Pan Bug Fix</h1>
  <p class="description">
    When traces have different <code>zorder</code> values and <code>Plotly.Plots.resize()</code>
    is called (as react-plotly.js does on mount), the first pan interaction fails — traces freeze
    while grid lines move.
  </p>

  <div class="links">
    <a href="before/" class="before">
      Before Fix<br>
      <small>(Bug present)</small>
    </a>
    <a href="after/" class="after">
      After Fix<br>
      <small>(Working)</small>
    </a>
  </div>

  <h2>To Reproduce</h2>
  <ol>
    <li>Open the <strong>Before Fix</strong> demo</li>
    <li>Drag the chart to pan horizontally</li>
    <li>Notice: grid lines move but traces stay frozen</li>
    <li>Release and drag again — now it works</li>
    <li>Compare with <strong>After Fix</strong> — first drag works correctly</li>
  </ol>

  <div class="pr-link">
    <strong>Pull Request:</strong>
    <a href="https://github.com/plotly/plotly.js/pull/XXXX">plotly/plotly.js#XXXX</a>
    (update this link after PR is created)
  </div>
</body>
</html>
